{"version":3,"sources":["components/InputTodo.js","components/EditTodo.js","components/ListTodos.js","App.js","index.js"],"names":["InputTodo","useState","description","setDescription","onSubmitForm","e","a","preventDefault","body","fetch","method","headers","JSON","stringify","window","location","console","error","message","className","onSubmit","type","value","onChange","target","EditTodo","todo","updateDescription","todo_id","data-toggle","data-target","id","data-dismiss","onClick","class","ListTodos","todos","setTodos","deleteTodo","filter","getTodos","response","json","jsonData","useEffect","map","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b912c6a.chunk.js","sourcesContent":["import React, {Fragment, useState} from \"react\";\n\nconst InputTodo = () => {\n    \n    const [description, setDescription] = useState(\"\");\n\n    const onSubmitForm = async e => {\n        e.preventDefault();\n        try {\n            const body = { description };\n            const response = await fetch(\"http://localhost:5000/todos\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body)\n            });\n\n            window.location = \"/\";\n        } catch (err) {\n            console.error(err.message);\n\n        }\n    };\n\n    return (\n        <Fragment>\n             <h1 className=\"text-center mt-5\">  upepProducts</h1>\n             <p className=\"text-center mt-5\">Gestion de stockage des denr√©es</p>\n             <form className=\"d-flex mt-5\" onSubmit={onSubmitForm}>\n                 <input type=\"text\" className=\"form-control\" value={description}\n                 onChange={e => setDescription(e.target.value)} />\n                 <button className=\"btn btn-success\">Add</button>\n             </form>\n        </Fragment>\n   \n    );\n};\n\nexport default InputTodo;","import React, {Fragment, useState} from \"react\";\n\nconst EditTodo = ({todo}) => {\n\n    // recup des valeurs recherchees\n    const [description, setDescription] = useState(todo.description);\n\n    //console.log(todo);// pour visualiser les variables \n    //de valeurs recherchees qui est ici description\n\n    //edit description function\n\n    const updateDescription = async (e) => {\n        e.preventDefault();\n        try {\n            const body = { description };\n            const response = await fetch(\n                `http://localhost:5000/todos/${todo.todo_id}`,\n            {\n                method: \"PUT\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body)\n            }\n            );\n            //console.log(response); on le remplace par:\n            window.location =(\"/\"); // pour passer \n            //le chagement en sur la route suivante\n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n    return(\n        \n    <Fragment> \n            \n        <button type=\"button\" \n        className=\"btn btn-warning\" \n        data-toggle=\"modal\" \n        data-target={`#id${todo.todo_id}`}\n        >\n          Edit\n        </button>\n        \n       \n        <div className=\"modal\" id={`id${todo.todo_id}`}>\n          <div className=\"modal-dialog\">\n            <div className=\"modal-content\">\n        \n             \n              <div className=\"modal-header\">\n                <h4 className=\"modal-title\">Edit Todo</h4>\n                <button \n                type=\"button\" \n                className=\"close\" \n                data-dismiss=\"modal\"\n                onClick={() => setDescription(todo.description)}\n                >\n                    &times;\n                </button>\n              </div>\n        \n              \n              <div className=\"modal-body\">\n                <input type=\"text\" \n                className=\"form-control\" \n                value={description}\n                onChange= {e => setDescription(e.target.value)}\n                />\n              </div>\n        \n             \n              <div className=\"modal-footer\">\n                <button type=\"button\" \n                class=\"btn btn-warning\" \n                data-dismiss=\"modal\"\n                onClick={e => updateDescription(e)}\n                >\n                   Edit \n                </button>\n\n                <button type=\"button\" \n                class=\"btn btn-danger\" \n                data-dismiss=\"modal\">\n                   Close \n                </button>\n              </div>\n        \n            </div>\n          </div>\n        </div> \n   </Fragment>\n       \n        \n    )\n}\n\nexport default EditTodo;","import React, {Fragment, useEffect, useState} from \"react\";\nimport EditTodo from \"./EditTodo\";\n\n\nconst ListTodos = () => {\n    //on ajoute useState pour remplacer console.log(jsonData) par lui\n    const [todos, setTodos] = useState([]);  \n\n    //delete todo function\n    const deleteTodo = async (id) => {\n        try {\n            const deleteTodo = await fetch(`http://localhost:5000/todos/${id}`, {\n                method:\"DELETE\"\n            });\n\n            //console.log(deleteTodo);\n            setTodos(todos.filter(todo => todo.todo_id !==id));\n\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n    \n\n    //get todo function\n    const getTodos = async () => {\n        try {\n\n            const response = await fetch(\"http://localhost:5000/todos\");\n            const jsonData = await response.json();\n\n           // console.log(jsonData); \n           //pour inspecter afin de trouver la variable qui donne le state \n           setTodos(jsonData);\n\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    useEffect(() => {\n        getTodos();\n    }, []);\n\n   // console.log(todos);  pour visuliser les variables adequates\n\n    return (\n        <Fragment>\n            <table className=\"table mt-5 text-center\">\n        <thead>\n          <tr>\n            <th>Description</th>\n            <th>Edit</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n            {/*  <tr>\n            <td>John</td>\n            <td>Doe</td>\n            <td>john@example.com</td>\n          </tr>  */}\n          {todos.map(todo => (\n              <tr key={todo.todo_id}>\n                  <td>{todo.description}</td>\n                  <td>\n                      <EditTodo todo={todo} />\n                      </td>\n                  <td>\n                      <button className=\"btn btn-danger\"\n                      onClick={() => deleteTodo(todo.todo_id)}\n                      >Delete\n                      </button>\n\n                  </td>\n              </tr>\n          ))}\n                 \n        </tbody>\n      </table>\n      </Fragment>\n        \n    )};\n\n    export default ListTodos;","import React, {Fragment} from 'react';\nimport './App.css';\n\n//components\n\nimport InputTodo from \"./components/InputTodo\";\nimport ListTodos from \"./components/ListTodos\";\n\n\nfunction App() {\n  return (\n\n    \n\n    <Fragment>\n   < InputTodo />\n   <ListTodos />\n  \n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}